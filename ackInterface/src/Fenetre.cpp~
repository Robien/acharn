#include "Fenetre.h"

using namespace std;

Fenetre::Fenetre(
        InterfaceInfo* m_interface,
        Skin* m_skin,
        irr::core::position2d<irr::s32> m_coord,
        const wchar_t* m_titre,
        int m_hfenetre,
        int m_lfenetre) {
    //Fenetre :
	m_gui = m_interface->getGui();
	m_pilote = m_interface->getPilote();

	m_fenetre = m_gui->addWindow(
            irr::core::rect<irr::s32 > (m_coord.X,m_coord.Y,m_coord.X+m_hfenetre,m_coord.Y+m_lfenetre),
            false, // modal
            m_titre, // titre
            0, // parent
            -1); // id

    //Barre menu :
    m_fenetre->setDrawTitlebar(false);
	m_fenetre->getCloseButton()->setVisible(false);

	//test de barre
	BarreActive* barre = new BarreActive(m_interface,
	                                     m_skin,
	                                     irr::core::position2d<irr::s32>(5,5),
	                                     50,
	                                     10,
	                                     "font.png",
	                                     "motif.png",
	                                     100,
	                                     50,
	                                     m_fenetre);
			
	//Cacher la fenêtre pas défaut
	//cacher();
}

int Fenetre::getId() {
	return m_fenetre->getID();
}

void Fenetre::cacher() {
	m_fenetre->setVisible(false);
}

void Fenetre::afficher() {
	m_fenetre->setVisible(true);
}